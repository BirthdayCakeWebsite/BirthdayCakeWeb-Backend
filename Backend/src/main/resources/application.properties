spring.application.name=Backend

# DataSource: ??c t? ENV (Render/Local ??u dùng ???c)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Hikari (gi? pool nh? vì dùng pooler)
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE:2}
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE:0}
spring.datasource.hikari.idle-timeout=${SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT:30000}
spring.datasource.hikari.max-lifetime=${SPRING_DATASOURCE_HIKARI_MAX_LIFETIME:600000}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT:30000}

# N?u mu?n inject thêm dataSourceProperties (t?t prepared statements):
# (n?u ?ã thêm vào URL thì không b?t bu?c)
# spring.datasource.hikari.data-source-properties.preferQueryMode=simple

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.PostgreSQLDialect}

# Flyway (anh ?ang t?t)
spring.flyway.enabled=false

# Server
server.port=${PORT:8080}

# CORS
app.allowed.origins=${APP_ALLOWED_ORIGINS}
